# 비기능 요구사항 정의

## 1. 성능(Performance) 및 확장성(Scalability)

- **평균 동시접속자 수**: 30만 명
  - 30만 명이 동시에 접속해도 이용에 문제가 없어야 한다.
- **최대 동시접속자 수**: 60만 명 (보수적으로 2배 설정)
  - 트래픽 급증 상황을 고려하여 최대 동시접속자 수를 60만 명으로 가정하고 시스템을 설계한다.

## 2. 채팅 시스템 요구사항

- **최대 방송 참여자 수**: 15만 명
  - 하나의 방송에 최대 15만 명의 시청자가 접속 가능해야 한다.
- **채팅 시스템 요구사항**:
  - 채팅 수신: **WebSocket** 사용 (지속적인 양방향 통신 필요)
  - 채팅 입력: **REST API(POST) 사용** (서버 부하 분산 및 관리 용이)
  - **최대 채팅 메시지 처리량**: 초당 15만 건 이상의 채팅 메시지를 실시간으로 처리할 수 있어야 한다.
  - **Redis Pub/Sub 또는 Kafka 스트리밍**을 활용하여 채팅 메시지 전파 최적화 필요

## 3. VOD 생성 및 실시간 채팅 재생 요구사항

- 방송 종료 후 자동으로 **VOD 생성**
- 다시보기(VOD)에서 **실시간 채팅을 동기화하여 제공**해야 함.
- 15만 명의 채팅 기록을 **타임스탬프 기반으로 저장 및 재생**해야 함.
- **채팅 로그 저장 방식**:
  - NoSQL (예: MongoDB, Redis, Kafka 등)에 **타임스탬프 기반 저장**
  - VOD 재생 시 **타임라인에 맞춰 스트리밍**
  - **CDN(Content Delivery Network) 캐싱 활용**하여 트래픽 부하 분산
- **실시간 채팅 재생 시스템 구성**:
  - 채팅 수신: **WebSocket 또는 SSE(Server-Sent Events) 사용**
  - 채팅 데이터 저장: **Kafka, Redis, NoSQL**을 활용하여 동기화

## 4. 시스템 신뢰성 및 가용성(Reliability & Availability)

- 시스템은 **99.9% 이상의 가용성(Uptime)**을 유지해야 한다.
- 트래픽 급증 시에도 서버 다운 없이 원활하게 운영될 수 있도록 **Auto Scaling 도입**
- 장애 발생 시 빠른 복구를 위해 **Failover 및 이중화(HA, High Availability) 아키텍처** 적용
- 실시간 채팅 및 방송 데이터 손실을 방지하기 위한 **데이터 백업 및 복구 시스템 운영**

